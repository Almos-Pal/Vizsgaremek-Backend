openapi: 3.0.0
paths:
  /edzes/ten:
    get:
      description: >-
        Lekéri a legutóbbi 10 edzés a hozzájuk tartozó gyakorlatokkal és
        izomcsoportokkal együtt
      operationId: findTen
      parameters:
        - name: userId
          required: true
          in: query
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: gyakorlat
          required: true
          in: query
          description: A gyakorlat id-ja
          schema:
            type: number
        - name: isTemplate
          required: false
          in: query
          description: Sablon-e az edzés
          schema:
            type: boolean
      responses:
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: A legutóbbi 10 edzés
      tags:
        - Edzes
  /edzes/intervallum:
    get:
      description: >-
        Lekér egy intervallumban lévő edzéseket a user azonosítója és, egy kezdő
        és végző dátumon, vagy kiválasztott típus intervallumon belül, a
        gyakorlatokkal és izomcsoportokkal együtt
      operationId: findManyByDate
      parameters:
        - name: page
          required: false
          in: query
          description: Oldalszám
          schema:
            minimum: 1
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Elemek száma oldalanként
          schema:
            minimum: 1
            maximum: 100
            default: 10
            type: number
        - name: favoriteExercises
          required: false
          in: query
          description: Kedvenc edzés
          schema:
            default: false
            type: boolean
        - name: user_id
          required: false
          in: query
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: isTemplate
          required: false
          in: query
          description: Sablon-e az edzés
          schema:
            type: boolean
        - name: type
          required: false
          in: query
          description: típus megadás, hogy milyen időintervallumot szeretnénk lekérni
          schema:
            type: week|month|halfyear|all
        - name: endDate
          required: false
          in: query
          description: Az végző dátuma
          schema:
            type: string
        - name: startDate
          required: false
          in: query
          description: A kezdő dátum
          schema:
            type: string
      responses:
        '200':
          description: Az edzések sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzések nem találhatóak
      security:
        - access-token: []
      summary: Egy user adott intervallumon belüli edzései
      tags:
        - Edzes
  /edzes:
    post:
      description: Létrehoz egy új edzést a megadott felhasználóhoz
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEdzesDto'
      responses:
        '201':
          description: Az edzés sikeresen létrehozva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A felhasználó nem található
      security:
        - access-token: []
      summary: Új edzés létrehozása
      tags:
        - Edzes
    get:
      description: >-
        Lekéri az összes edzést a hozzájuk tartozó gyakorlatokkal és
        izomcsoportokkal együtt
      operationId: findAll
      parameters:
        - name: page
          required: false
          in: query
          description: Oldalszám
          schema:
            minimum: 1
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Elemek száma oldalanként
          schema:
            minimum: 1
            maximum: 100
            default: 10
            type: number
        - name: favoriteExercises
          required: false
          in: query
          description: Kedvenc edzés
          schema:
            default: false
            type: boolean
        - name: user_id
          required: false
          in: query
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: isTemplate
          required: false
          in: query
          description: Sablon-e az edzés
          schema:
            type: boolean
      responses:
        '200':
          description: Az edzések sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EdzesekResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Összes edzés lekérése
      tags:
        - Edzes
  /edzes/{id}/gyakorlat/{userId}:
    post:
      description: >-
        Hozzáad egy gyakorlatot egy meglévő edzéshez és rögzíti a felhasználó
        történetében
      operationId: addGyakorlatToEdzes
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddEdzesGyakorlatDto'
      responses:
        '201':
          description: A gyakorlat sikeresen hozzáadva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés vagy a gyakorlat nem található
      security:
        - access-token: []
      summary: Gyakorlat hozzáadása edzéshez
      tags:
        - Edzes
  /edzes/{id}/gyakorlat/{gyakorlatId}/{userId}:
    delete:
      description: Törli a gyakorlatot az edzésből és a felhasználó történetéből
      operationId: deleteGyakorlatFromEdzes
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      responses:
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Gyakorlat törlése edzésből
      tags:
        - Edzes
  /edzes/{id}/gyakorlat/{gyakorlatId}/set/{userId}:
    post:
      description: >-
        Hozzáad egy szettet egy edzés gyakorlatához és rögzíti a felhasználó
        történetében
      operationId: addSetToEdzesGyakorlat
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddEdzesGyakorlatSetDto'
      responses:
        '201':
          description: A szett sikeresen hozzáadva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés, a gyakorlat vagy a felhasználó nem található
      security:
        - access-token: []
      summary: Szett hozzáadása gyakorlathoz
      tags:
        - Edzes
  /edzes/{id}/gyakorlat/{gyakorlatId}/set/{setId}/{userId}:
    patch:
      description: Módosítja egy edzés gyakorlatának szettjét
      operationId: updateSet
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
        - name: setId
          required: true
          in: path
          description: A szett azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEdzesSetDto'
      responses:
        '200':
          description: A szett sikeresen módosítva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés, a gyakorlat vagy a szett nem található
      security:
        - access-token: []
      summary: Szett módosítása
      tags:
        - Edzes
    delete:
      description: Törli egy edzés gyakorlatának szettjét
      operationId: removeSet
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
        - name: setId
          required: true
          in: path
          description: A szett azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      responses:
        '200':
          description: A szett sikeresen törölve
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés, a gyakorlat vagy a szett nem található
      security:
        - access-token: []
      summary: Szett törlése
      tags:
        - Edzes
  /edzes/izomcsoportok:
    get:
      description: >-
        Lekéri az összes izomcsoportot és fő izomcsoportot, ami szerepel az
        edzésekben
      operationId: getEdzesIzomcsoportok
      parameters:
        - name: user_id
          required: true
          in: query
          description: A felhasználó azonosítója
          schema:
            type: number
      responses:
        '200':
          description: Az izomcsoportok sikeresen lekérve
          content:
            application/json:
              schema:
                type: object
                properties:
                  izomcsoportok:
                    type: array
                    items:
                      type: number
                    description: Az összes érintett izomcsoport azonosítója
                  fo_izomcsoportok:
                    type: array
                    items:
                      type: number
                    description: Az összes érintett fő izomcsoport azonosítója
        '400':
          description: Hibás kérés - Érvénytelen felhasználó azonosító
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Edzésekben használt izomcsoportok lekérése
      tags:
        - Edzes
  /edzes/napi:
    get:
      description: >-
        Lekér egy edzést a user azonosítója és az edzés dátuma alapján a
        gyakorlatokkal és izomcsoportokkal együtt
      operationId: findOneByDate
      parameters:
        - name: userId
          required: true
          in: query
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: date
          required: true
          in: query
          description: Az edzés dátuma
          schema:
            type: string
        - name: isTemplate
          required: false
          in: query
          description: Sablon-e az edzés
          schema:
            type: boolean
      responses:
        '200':
          description: Az edzés sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés nem található
      security:
        - access-token: []
      summary: Egy user adott napi edzésének részletes adatai
      tags:
        - Edzes
  /edzes/{id}:
    get:
      description: >-
        Lekér egy edzést az azonosítója alapján a gyakorlatokkal és
        izomcsoportokkal együtt
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
      responses:
        '200':
          description: Az edzés sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés nem található
      security:
        - access-token: []
      summary: Egy edzés részletes adatai
      tags:
        - Edzes
    patch:
      description: Módosítja az edzés adatait a megadott azonosító alapján
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEdzesDto'
      responses:
        '200':
          description: Az edzés sikeresen módosítva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés nem található
      security:
        - access-token: []
      summary: Edzés módosítása
      tags:
        - Edzes
    delete:
      description: Törli az edzést és a hozzá tartozó gyakorlatokat
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
      responses:
        '200':
          description: Az edzés sikeresen törölve
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés nem található
      security:
        - access-token: []
      summary: Edzés törlése
      tags:
        - Edzes
  /edzes/{id}/finalize/{userId}:
    patch:
      description: >-
        Módosítja az edzés véglegesítésének állapotát a megadott azonosító
        alapján
      operationId: changeEdzesFinalizedStatus
      parameters:
        - name: id
          required: true
          in: path
          description: Az edzés azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      responses:
        '200':
          description: Az edzés véglegesítésének állapota sikeresen módosítva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '400':
          description: Hiba történt az edzés állapotának módosítása során
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: Az edzés nem található vagy nem tartozik a megadott felhasználóhoz
      security:
        - access-token: []
      summary: Edzés véglegesítésének állapotának módosítása
      tags:
        - Edzes
  /edzes/template/{templateId}/{userId}:
    post:
      description: Létrehoz egy új edzést egy meglévő sablon alapján
      operationId: createFromTemplate
      parameters:
        - name: templateId
          required: true
          in: path
          description: A sablon azonosítója
          schema:
            type: number
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
      responses:
        '201':
          description: Az edzés sikeresen létrehozva a sablonból
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Edzes'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A sablon vagy a felhasználó nem található
        '409':
          description: Az adott napon már létezik edzés
      security:
        - access-token: []
      summary: Új edzés létrehozása sablonból
      tags:
        - Edzes
  /edzes/current-week/{userId}:
    get:
      description: >-
        Lekéri az aktuális hét összes edzését és a hozzájuk tartozó
        izomcsoportokat
      operationId: getCurrentWeekEdzesek
      parameters:
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: isTemplate
          required: false
          in: query
          description: Sablon-e az edzés
          schema:
            type: boolean
      responses:
        '200':
          description: Az edzések sikeresen lekérve
          content:
            application/json:
              schema:
                type: object
                properties:
                  edzesek:
                    type: array
                    items:
                      $ref: '#/components/schemas/Edzes'
                    description: A hét edzései
                  izomcsoportok:
                    type: array
                    items:
                      type: number
                    description: Az érintett izomcsoportok azonosítói
                  fo_izomcsoportok:
                    type: array
                    items:
                      type: number
                    description: Az érintett fő izomcsoportok azonosítói
        '400':
          description: Hibás kérés
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Aktuális heti edzések lekérése
      tags:
        - Edzes
  /users:
    get:
      description: Az összes felhasználó lekérdezése, csak admin jogosultsággal érhető el
      operationId: findAll
      parameters:
        - name: page
          required: false
          in: query
          description: Page number
          schema:
            minimum: 1
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Number of items per page
          schema:
            minimum: 1
            default: 10
            type: number
        - name: username
          required: false
          in: query
          description: keresési feltétel felhasználónév alapján
          schema:
            type: string
        - name: isAdmin
          required: false
          in: query
          description: keresési feltétel isAdmin alapján
          schema:
            type: string
        - name: email
          required: false
          in: query
          description: keresési feltétel email alapján
          schema:
            type: string
      responses:
        '200':
          description: Sikeres lekérdezés, összes felhasználó visszaadva.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponseDto'
              examples:
                example:
                  summary: Visszatérési példa
                  value:
                    items:
                      - user_id: 37
                        username: Admin
                        email: admin@gmail.com
                        suly: null
                        magassag: null
                        isAdmin: true
                    meta:
                      currentPage: 1
                      itemsPerPage: 1
                      totalItems: 7
                      totalPages: 7
        '401':
          description: Invalid Token
        '403':
          description: Hozzáférés megtagadva - csak Adminok
      security:
        - access-token: []
      summary: Összes felhasználó lekérdezése
      tags:
        - Users
  /users/{id}:
    get:
      description: >-
        Egy felhasználó lekérdezése azonosító alapján. Egy felhasználó csak a
        saját adatait érheti el, míg admin jogosultsággal az összes felhasználó
        adatai lekérdezhetőek.
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Felhasználó adatai visszaadva.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDto'
              examples:
                example:
                  summary: Visszatérési példa
                  value:
                    user_id: 37
                    username: Admin
                    email: admin@gmail.com
                    suly: null
                    magassag: null
                    isAdmin: true
        '401':
          description: Unauthorized
      security:
        - access-token: []
      summary: Egy felhasználó lekérdezése
      tags:
        - Users
    patch:
      description: >-
        Felhasználó adatainak módosítása azonosító alapján. Egy felhasználó csak
        a saját adatait módosíthatja, míg admin jogosultsággal az összes
        felhasználó módosítható.
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDto'
      responses:
        '200':
          description: Felhasználó adatai sikeresen módosítva.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDto'
              examples:
                example:
                  summary: Visszatérési példa
                  value:
                    user_id: 37
                    username: Admin
                    email: admin@gmail.com
                    suly: 70
                    magassag: 175
                    isAdmin: true
        '401':
          description: Unauthorized
      security:
        - access-token: []
      summary: Felhasználó adatainak módosítása
      tags:
        - Users
    delete:
      description: >-
        Felhasználó törlése azonosító alapján. Csak admin jogosultsággal érhető
        el.
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: Felhasználó sikeresen törölve.
          content:
            application/json:
              schema:
                example:
                  message: User and all related data successfully deleted
        '401':
          description: Unauthorized
        '403':
          description: Hozzáférés megtagadva - csak Adminok
      security:
        - access-token: []
      summary: Felhasználó törlése
      tags:
        - Users
  /users/{id}/bmi:
    get:
      description: >-
        BMI kiszámítása felhasználó azonosító alapján. Egy felhasználó csak a
        saját BMI-jét kérdezheti le, míg admin jogosultsággal az összes
        felhasználó BMI-je lekérdezhető.
      operationId: getBMI
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      responses:
        '200':
          description: BMI kiszámítása sikeres.
          content:
            application/json:
              schema:
                example:
                  bmi: '22.50'
                  type: Normál
        '401':
          description: Unauthorized
      security:
        - access-token: []
      summary: BMI kiszámítása
      tags:
        - Users
  /users/{id}/admin:
    patch:
      description: >-
        Admin jogosultság módosítása felhasználó azonosító alapján. Csak admin
        jogosultsággal érhető el.
      operationId: changeAdmin
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminDto'
      responses:
        '200':
          description: Admin státusz sikeresen megváltoztatva.
          content:
            application/json:
              schema:
                example:
                  message: Admin státusz sikeresen megváltoztatva
        '401':
          description: Unauthorized
        '403':
          description: Hozzáférés megtagadva - csak Adminok
      security:
        - access-token: []
      summary: Admin jogosultság módosítása
      tags:
        - Users
  /auth/register:
    post:
      description: >-
        Új felhasználó regisztrálása. Az email címnek egyedinek kell lennie. A
        jelszónak minimum 8 karakter hosszúnak kell lennie, legalább egy kis és
        nagy betűvel, illetve egy speciális karakterrel.
      operationId: registerUser
      parameters: []
      requestBody:
        required: true
        description: Felhasználó regisztráció adatai
        content:
          application/json:
            schema:
              example:
                username: exampleUser
                password: Example123.
                email: example@example.com
      responses:
        '201':
          description: Sikeres regisztráció
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDto'
        '400':
          description: Hibás adatok
        '409':
          description: Az email cím már használatban van
      summary: Regisztráció
      tags:
        - Authentikáció
  /auth/login:
    post:
      description: Felhasználó bejelentkezése
      operationId: login
      parameters: []
      requestBody:
        required: true
        description: Felhasználó bejelentkezési adatai
        content:
          application/json:
            schema:
              example:
                email: example@example.com
                password: Example123.
      responses:
        '200':
          description: Sikeres bejelentkezés
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLogiResponsenDto'
        '401':
          description: Hibás felhasználónév vagy jelszó
      summary: Bejelentkezés
      tags:
        - Authentikáció
  /auth/refresh:
    post:
      description: Access token frissítése, ha a access token lejárt.
      operationId: refreshToken
      parameters: []
      responses:
        '200':
          description: Sikeres token frissítés
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Token frissítése
      tags:
        - Authentikáció
  /gyakorlat:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGyakorlatDto'
      responses:
        '201':
          description: A gyakorlat sikeresen létrehozva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Gyakorlat'
        '400':
          description: Hibás kérés - Érvénytelen adatok vagy izomcsoport azonosítók
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Új gyakorlat létrehozása
      tags:
        - Gyakorlat
    get:
      description: >-
        Lapozott lista a gyakorlatokról alapvető információkkal (azonosító, név,
        eszköz és izomcsoportok)
      operationId: findAll
      parameters:
        - name: page
          required: false
          in: query
          description: Oldalszám
          schema:
            minimum: 1
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Elemek száma oldalanként
          schema:
            minimum: 1
            maximum: 100
            default: 10
            type: number
        - name: nev
          required: false
          in: query
          description: Szűrés a gyakorlat nevére
          schema:
            type: string
        - name: izomcsoportId
          required: false
          in: query
          description: Szűrés a fő izomcsoport azonosítójára
          schema:
            type: number
        - name: izomcsoportok
          required: false
          in: query
          description: Szűrés izomcsoportokra
          schema:
            type: array
            items:
              type: number
        - name: eszkoz
          required: false
          in: query
          description: Szűrés eszközökre
          schema:
            type: string
      responses:
        '200':
          description: Lapozott gyakorlat lista
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GyakorlatokResponseDto'
        '400':
          description: Hibás kérés - Érvénytelen lekérdezési paraméterek
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Összes gyakorlat lekérése
      tags:
        - Gyakorlat
  /gyakorlat/{id}:
    get:
      operationId: findOne
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        '200':
          description: A kért gyakorlat adatai
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Gyakorlat'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat nem található
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GyakorlatNotFoundDto'
      security:
        - access-token: []
      summary: Gyakorlat lekérése azonosító alapján
      tags:
        - Gyakorlat
    patch:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGyakorlatDto'
      responses:
        '200':
          description: A gyakorlat sikeresen módosítva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Gyakorlat'
        '400':
          description: Hibás kérés - Érvénytelen adatok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat nem található
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GyakorlatNotFoundDto'
      security:
        - access-token: []
      summary: Gyakorlat módosítása azonosító alapján
      tags:
        - Gyakorlat
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        '200':
          description: A gyakorlat sikeresen törölve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat nem található
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GyakorlatNotFoundDto'
      security:
        - access-token: []
      summary: Gyakorlat törlése azonosító alapján
      tags:
        - Gyakorlat
  /izomcsoport:
    get:
      description: Lista az összes izomcsoportról
      operationId: findAll
      parameters: []
      responses:
        '200':
          description: Izomcsoport lista
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Izomcsoport'
        '400':
          description: Hibás kérés - Érvénytelen lekérdezési paraméterek
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Összes Izom lekérése
      tags:
        - Izomcsoport
  /user-gyakorlat:
    post:
      description: Létrehoz egy új kapcsolatot a felhasználó és egy gyakorlat között
      operationId: create
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserGyakorlatDto'
      responses:
        '201':
          description: A kapcsolat sikeresen létrehozva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlat'
        '400':
          description: A gyakorlat már hozzá van rendelve a felhasználóhoz
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat vagy a felhasználó nem található
      security:
        - access-token: []
      summary: Új user-gyakorlat kapcsolat létrehozása
      tags:
        - User Gyakorlat
  /user-gyakorlat/history:
    post:
      description: Rögzít egy új edzés eredményt (súly és ismétlésszám) egy gyakorlathoz
      operationId: createHistory
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserGyakorlatHistoryDto'
      responses:
        '201':
          description: A history bejegyzés sikeresen létrehozva
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlat'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Új edzés history bejegyzés létrehozása
      tags:
        - User Gyakorlat
  /user-gyakorlat/user/{userId}:
    get:
      description: Lekéri az összes gyakorlatot és azok történetét egy adott felhasználóhoz
      operationId: getUserGyakorlatok
      parameters:
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: page
          required: false
          in: query
          description: Oldalszám
          schema:
            minimum: 1
            default: 1
            type: number
        - name: limit
          required: false
          in: query
          description: Elemek száma oldalanként
          schema:
            minimum: 1
            maximum: 100
            default: 10
            type: number
        - name: isRecord
          required: false
          in: query
          description: ' Ez a tulajdonság arra szolgál, hogy meghatározza, a rekord boolean értékként'
          schema:
            default: false
            type: boolean
        - name: search
          required: false
          in: query
          description: Keresési feltétel gyakorlat neve alapján
          schema:
            type: string
      responses:
        '200':
          description: A gyakorlatok sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlatokResponseDto'
        '401':
          description: Nincs jogosultság a hozzáféréshez
      security:
        - access-token: []
      summary: Felhasználó összes gyakorlatának lekérése
      tags:
        - User Gyakorlat
  /user-gyakorlat/{userId}/{gyakorlatId}:
    get:
      description: >-
        Lekéri egy konkrét gyakorlat részletes adatait és történetét egy
        felhasználóhoz
      operationId: getUserGyakorlatDetails
      parameters:
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
      responses:
        '200':
          description: A gyakorlat adatai sikeresen lekérve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlat'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat nem található a felhasználónál
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlatNotFoundDto'
      security:
        - access-token: []
      summary: Egy konkrét user-gyakorlat részletes adatai
      tags:
        - User Gyakorlat
    delete:
      description: Törli a kapcsolatot egy felhasználó és egy gyakorlat között
      operationId: deleteUserGyakorlat
      parameters:
        - name: userId
          required: true
          in: path
          description: A felhasználó azonosítója
          schema:
            type: number
        - name: gyakorlatId
          required: true
          in: path
          description: A gyakorlat azonosítója
          schema:
            type: number
      responses:
        '200':
          description: A gyakorlat sikeresen törölve
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlat'
        '401':
          description: Nincs jogosultság a hozzáféréshez
        '404':
          description: A gyakorlat nem található a felhasználónál
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserGyakorlatNotFoundDto'
      security:
        - access-token: []
      summary: Felhasználó gyakorlatának törlése
      tags:
        - User Gyakorlat
info:
  title: RepVault
  description: |2-

          RepVault API
      
          A védett végpontok eléréséhez Bearer típusú JWT tokent kell használnia.
          Az authentikáció fül alatt lévő /login végponton keresztül tud tokenhez jutni. Adja meg a felhasználónevét és jelszavát,
          illetve ha még nincs felhasználója, regisztráljon az /register végponton keresztül és aztán jelentkezzen be. 
          Ezt követően kattintson az "Authorize" gombra a Swagger felületén, majd másolja be a tokenjét.
      
          Miután megadta a tokent, a Swagger automatikusan hozzáadja azt az "Authorization" fejléchez, 
          így Ön tesztelheti a védett végpontokat.
        
  version: '1.0'
  contact: {}
tags: []
servers:
  - url: http://localhost:8000
    description: Development Server
components:
  securitySchemes:
    access-token:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    EdzesGyakorlatSet:
      type: object
      properties:
        id:
          type: number
          description: A szett azonosítója
          example: 1
        set_szam:
          type: number
          description: A szett sorszáma
          example: 1
        weight:
          type: number
          description: A gyakorlat súlya
          example: 100.5
        reps:
          type: number
          description: Az ismétlések száma
          example: 12
      required:
        - id
        - set_szam
        - weight
        - reps
    UserGyakorlatHistory:
      type: object
      properties:
        weight:
          type: number
          description: A gyakorlat súlya
        reps:
          type: number
          description: Az ismétlések száma
        date:
          format: date-time
          type: string
          description: A bejegyzés dátuma
      required:
        - weight
        - reps
        - date
    EdzesGyakorlat:
      type: object
      properties:
        gyakorlat_id:
          type: number
          description: A gyakorlat azonosítója
          example: 1
        gyakorlat:
          type: object
          description: A gyakorlat neve
          example: Melledzés
        szettek:
          description: A gyakorlat szettjei
          type: array
          items:
            $ref: '#/components/schemas/EdzesGyakorlatSet'
        total_sets:
          type: number
          description: A szettek száma
          example: 12
        previous_history:
          description: Előző gyakorlat előzmények
          type: array
          items:
            $ref: '#/components/schemas/UserGyakorlatHistory'
      required:
        - gyakorlat_id
        - gyakorlat
        - szettek
        - total_sets
        - previous_history
    Edzes:
      type: object
      properties:
        edzes_id:
          type: number
          description: Az edzés azonosítója
          example: 1
        edzes_neve:
          type: string
          description: Az edzés neve
          example: Melledzés
        datum:
          format: date-time
          type: string
          description: Az edzés dátuma
          example: '2024-03-15T10:00:00.000Z'
        ido:
          type: number
          description: Az edzés időtartama (percben)
          example: 60
        isFinalized:
          type: boolean
          description: Igaz ha az edzés befejeződött
          example: false
        isTemplate:
          type: boolean
          description: Igaz ha az edzés sablon
          example: false
        isFavorite:
          type: boolean
          description: Kedvenc edzés
          example: false
        gyakorlatok:
          description: Az edzéshez tartozó gyakorlatok
          type: array
          items:
            $ref: '#/components/schemas/EdzesGyakorlat'
      required:
        - edzes_id
        - edzes_neve
        - datum
        - ido
        - isFinalized
        - isTemplate
        - isFavorite
        - gyakorlatok
    CreateEdzesDto:
      type: object
      properties:
        edzes_neve:
          type: string
          description: Az edzés neve
          example: Láb nap
        datum:
          type: string
          description: Az edzés dátuma
          example: '2024-03-20'
        user_id:
          type: number
          description: A felhasználó azonosítója
          example: 1
        ido:
          type: number
          description: Az edzés időtartama percben
          example: 60
        isFinalized:
          type: boolean
          description: Igaz ha az edzés befejeződött
          example: false
        isTemplate:
          type: boolean
          description: Sablon-e az edzés
          example: false
      required:
        - edzes_neve
        - datum
        - user_id
    AddEdzesGyakorlatDto:
      type: object
      properties:
        gyakorlat_id:
          type: number
          description: A gyakorlat azonosítója
          example: 1
      required:
        - gyakorlat_id
    AddEdzesGyakorlatSetDto:
      type: object
      properties:
        set_szam:
          type: number
          description: A szett sorszáma
          example: 1
        weight:
          type: number
          description: A gyakorlat során használt súly (kg)
          example: 60
        reps:
          type: number
          description: Az ismétlések száma
          example: 12
      required:
        - set_szam
        - weight
        - reps
    UpdateEdzesSetDto:
      type: object
      properties:
        weight:
          type: number
          description: A gyakorlat során használt súly (kg)
          example: 60
        reps:
          type: number
          description: Az ismétlések száma
          example: 12
      required:
        - weight
        - reps
    PaginationMetaDto:
      type: object
      properties:
        currentPage:
          type: number
          example: 1
          description: Aktuális oldalszám
        itemsPerPage:
          type: number
          example: 10
          description: Elemek száma oldalanként
        totalItems:
          type: number
          example: 100
          description: Összes elem száma
        totalPages:
          type: number
          example: 10
          description: Összes oldal száma
        favoriteExercises:
          type: boolean
          example: false
          description: kedvenc edzések
      required:
        - currentPage
        - itemsPerPage
        - totalItems
        - totalPages
    EdzesekResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            description: Edzések listája
            type: array
            items:
              $ref: '#/components/schemas/Edzes'
        meta:
          description: Lapozási metaadatok
          allOf:
            - $ref: '#/components/schemas/PaginationMetaDto'
      required:
        - items
        - meta
    UpdateEdzesDto:
      type: object
      properties:
        edzes_neve:
          type: string
          description: Az edzés neve
          example: Láb nap
        datum:
          type: string
          description: Az edzés dátuma
          example: '2024-03-20'
        user_id:
          type: number
          description: A felhasználó azonosítója
          example: 1
        ido:
          type: number
          description: Az edzés időtartama percben
          example: 60
        isFinalized:
          type: boolean
          description: Igaz ha az edzés befejeződött
          example: false
        isTemplate:
          type: boolean
          description: Sablon-e az edzés
          example: false
    User:
      type: object
      properties:
        user_id:
          type: number
          example: 1
          description: A felhasználó azonosítója
        username:
          type: string
          example: teszt
          description: A felhasználó felhasználóneve
        email:
          type: string
          example: teszt@gmail.com
          description: A felhasználó email címe
        password:
          type: string
          example: Teszt1234.
          description: >-
            A felhasználó jelszava (erős jelszó, legalább 8 karakter,
            tartalmazzon kis- és nagybetűt, számot és speciális karaktert)
        isAdmin:
          type: boolean
          example: false
          description: A felhasználó admin jogosultsággal rendelkezik-e
        suly:
          type: number
          example: 80
          description: A felhasználó a súlya
        magassag:
          type: number
          example: 180
          description: A felhasználó a magassága
      required:
        - user_id
        - username
        - email
        - password
        - isAdmin
    UserResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            description: List of users
            type: array
            items:
              $ref: '#/components/schemas/User'
        meta:
          type: object
          description: Pagination metadata
          example:
            currentPage: 1
            itemsPerPage: 1
            totalItems: 7
            totalPages: 7
      required:
        - items
        - meta
    UserDto:
      type: object
      properties:
        user_id:
          type: number
          description: Unique identifier of the user
          example: 1
        username:
          type: string
          description: Username of the user
          example: ExampleUser
        email:
          type: string
          description: Email address of the user
          example: example@gmail.com
        suly:
          type: number
          description: User weight in kilograms
          example: 80
          nullable: true
        magassag:
          type: number
          description: User height in centimeters
          example: 180
          nullable: true
        isAdmin:
          type: boolean
          description: Indicates if the user is an administrator
          example: false
      required:
        - user_id
        - username
        - email
        - suly
        - magassag
        - isAdmin
    UpdateUserDto:
      type: object
      properties:
        username:
          type: string
          example: newusername
          description: User name
        suly:
          type: number
          example: 80
          description: User weight
        magassag:
          type: number
          example: 180
          description: User height
        password:
          type: string
          example: newpassword
          description: User password
      required:
        - username
        - suly
        - magassag
        - password
    AdminDto:
      type: object
      properties:
        isAdmin:
          type: boolean
          example: 'true'
          description: IsAdmin?
      required:
        - isAdmin
    UserLogiResponsenDto:
      type: object
      properties:
        user_id:
          type: number
          description: Unique identifier of the user
          example: 1
        username:
          type: string
          description: Username of the user
          example: ExampleUser
        email:
          type: string
          description: Email address of the user
          example: example@gmail.com
        suly:
          type: number
          description: User weight in kilograms
          example: 80
          nullable: true
        magassag:
          type: number
          description: User height in centimeters
          example: 180
          nullable: true
        isAdmin:
          type: boolean
          description: Indicates if the user is an administrator
          example: false
        accessToken:
          type: string
          description: Access token of the user
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        refreshToken:
          type: string
          description: Refresh token of the user
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        expiresIn:
          type: number
          description: Token expiration time in seconds
          example: 3600
      required:
        - user_id
        - username
        - email
        - suly
        - magassag
        - isAdmin
        - accessToken
        - refreshToken
        - expiresIn
    CreateGyakorlatDto:
      type: object
      properties:
        gyakorlat_neve:
          type: string
          example: Fekvenyomás
          description: A gyakorlat megnevezése
        eszkoz:
          type: string
          example: Rúd
          description: A gyakorlathoz szükséges eszköz
        gyakorlat_leiras:
          type: string
          example: Feküdj a padra, engedd le a rudat a mellkasodhoz, majd nyomd fel
          description: A gyakorlat részletes leírása
        fo_izomcsoport:
          type: number
          example: 1
          description: A fő izomcsoport azonosítója
        user_id:
          type: number
          example: 1
          description: A felhasználó azonosítója
          nullable: true
        izomcsoportok:
          example:
            - 1
            - 2
            - 3
          description: Az érintett izomcsoportok azonosítói
          type: array
          items:
            type: number
      required:
        - gyakorlat_neve
        - izomcsoportok
    Gyakorlat:
      type: object
      properties:
        gyakorlat_id:
          type: number
          example: 1
          description: A gyakorlat azonosítója
        gyakorlat_neve:
          type: string
          example: Bench Press
          description: A gyakorlat neve
        eszkoz:
          type: string
          example: Barbell
          description: Eszköz amely szükséges a gyakorlat elvégzéséhez
        gyakorlat_leiras:
          type: string
          example: Feküdj a padra, engedd le a rudat a mellkasodhoz, majd nyomd fel
          description: A gyakorlat leírása
        fo_izomcsoport:
          type: number
          example: 1
          description: Fő izomcsoport azonosítója
        user_id:
          type: number
          example: 1
          description: A felhasználó azonosítója
        izomcsoportok:
          example:
            - 1
            - 2
            - 3
          description: Az érintett izomcsoportok azonosítói
          type: array
          items:
            type: number
      required:
        - gyakorlat_id
        - gyakorlat_neve
    ErrorResponseDto:
      type: object
      properties:
        statusCode:
          type: number
          example: 400
          description: HTTP státusz kód
        message:
          type: string
          example: Hibás kérés
          description: Hiba üzenet
        error:
          type: string
          example: Bad Request
          description: Hiba típusa
      required:
        - statusCode
        - message
        - error
    GyakorlatListItemDto:
      type: object
      properties:
        gyakorlat_id:
          type: number
          example: 1
          description: A gyakorlat egyedi azonosítója
        gyakorlat_neve:
          type: string
          example: Fekvenyomás
          description: A gyakorlat megnevezése
        eszkoz:
          type: string
          example: Rúd
          description: A gyakorlathoz szükséges eszköz
        fo_izomcsoport:
          type: number
          example: 1
          description: A fő izomcsoport azonosítója
        izomcsoportok:
          example:
            - 1
            - 2
            - 3
          description: Az érintett izomcsoportok azonosítói
          type: array
          items:
            type: number
      required:
        - gyakorlat_id
        - gyakorlat_neve
        - izomcsoportok
    GyakorlatokResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            description: Gyakorlatok listája
            type: array
            items:
              $ref: '#/components/schemas/GyakorlatListItemDto'
        meta:
          description: Lapozási metaadatok
          allOf:
            - $ref: '#/components/schemas/PaginationMetaDto'
      required:
        - items
        - meta
    GyakorlatNotFoundDto:
      type: object
      properties:
        statusCode:
          type: number
          example: 404
          description: HTTP státusz kód
        message:
          type: string
          example: 'Gyakorlat nem található az ID: 1 alapján'
          description: Hibaüzenet
        error:
          type: string
          example: Not Found
          description: Hiba típusa
      required:
        - statusCode
        - message
        - error
    UpdateGyakorlatDto:
      type: object
      properties:
        gyakorlat_neve:
          type: string
          example: Fekvenyomás
          description: A gyakorlat megnevezése
        eszkoz:
          type: string
          example: Rúd
          description: A gyakorlathoz szükséges eszköz
        gyakorlat_leiras:
          type: string
          example: Feküdj a padra, engedd le a rudat a mellkasodhoz, majd nyomd fel
          description: A gyakorlat részletes leírása
        fo_izomcsoport:
          type: number
          example: 1
          description: A fő izomcsoport azonosítója
        user_id:
          type: number
          example: 1
          description: A felhasználó azonosítója
          nullable: true
        izomcsoportok:
          example:
            - 1
            - 2
            - 3
          description: Az érintett izomcsoportok azonosítói
          type: array
          items:
            type: number
    SuccessResponseDto:
      type: object
      properties:
        statusCode:
          type: number
          example: 200
          description: HTTP státusz kód
        message:
          type: string
          example: A művelet sikeres
          description: Sikeres művelet üzenete
      required:
        - statusCode
        - message
    Izomcsoport:
      type: object
      properties:
        izomcsoport_id:
          type: number
          example: '1'
          description: Az izomcsoport azonosítója
        izomcsoport_neve:
          type: string
          example: hasizom
          description: Az izomcsoport neve
      required:
        - izomcsoport_id
        - izomcsoport_neve
    CreateUserGyakorlatDto:
      type: object
      properties:
        user_id:
          type: number
          description: A felhasználó azonosítója
          example: 1
        gyakorlat_id:
          type: number
          description: A gyakorlat azonosítója
          example: 1
        personal_best:
          type: number
          description: Személyes rekord súly
          example: 100.5
        last_weight:
          type: number
          description: Utoljára használt súly
          example: 90.5
        last_reps:
          type: number
          description: Utolsó ismétlésszám
          example: 12
      required:
        - user_id
        - gyakorlat_id
    UserGyakorlat:
      type: object
      properties:
        user_id:
          type: number
          description: A felhasználó azonosítója
          example: 1
        gyakorlat_id:
          type: number
          description: A gyakorlat azonosítója
          example: 1
        personal_best:
          type: number
          description: Személyes rekord súly
          example: 100.5
        last_weight:
          type: number
          description: Utoljára használt súly
          example: 90.5
        last_reps:
          type: number
          description: Utolsó ismétlésszám
          example: 12
        total_sets:
          type: number
          description: Összes elvégzett szett
          example: 50
        gyakorlat:
          type: object
          description: A gyakorlat adatai
        history:
          description: Edzés történet
          type: array
          items:
            type: object
      required:
        - user_id
        - gyakorlat_id
        - total_sets
    CreateUserGyakorlatHistoryDto:
      type: object
      properties:
        user_id:
          type: number
          description: A felhasználó azonosítója
          example: 1
        gyakorlat_id:
          type: number
          description: A gyakorlat azonosítója
          example: 1
        weight:
          type: number
          description: Az edzésen használt súly
          example: 100.5
        reps:
          type: number
          description: Az elvégzett ismétlések száma
          example: 12
        edzes_id:
          type: number
          description: Az edzés azonosítója
          example: 1
      required:
        - user_id
        - gyakorlat_id
        - weight
        - reps
        - edzes_id
    UserGyakorlatokResponseDto:
      type: object
      properties:
        items:
          type: array
          items:
            description: User-Gyakorlat kapcsolatok listája
            type: array
            items:
              $ref: '#/components/schemas/UserGyakorlat'
        meta:
          description: Lapozási metaadatok
          allOf:
            - $ref: '#/components/schemas/PaginationMetaDto'
      required:
        - items
        - meta
    UserGyakorlatNotFoundDto:
      type: object
      properties:
        statusCode:
          type: number
          example: 404
          description: HTTP státusz kód
        message:
          type: string
          example: 'Gyakorlat nem található az ID: 1 alapján'
          description: Hibaüzenet
        error:
          type: string
          example: Not Found
          description: Hiba típusa
      required:
        - statusCode
        - message
        - error
